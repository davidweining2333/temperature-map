{"version":3,"sources":["views/map/Map.js","App.js","reportWebVitals.js","index.js"],"names":["DefaultIcon","L","icon","iconUrl","shadowUrl","iconShadow","Marker","prototype","options","Map","props","state","dataSource","key","name","lang","lat","columns","title","dataIndex","temperatureCharts","refreshCharts","record","base","data","this","generateData","setOption","grid","top","bottom","right","text","tooltip","trigger","xAxis","type","yAxis","boundaryGap","splitLine","show","series","smooth","randomData","now","oneDay","oneHour","value","Date","Math","random","toString","getFullYear","getMonth","getDate","join","getHours","round","baseTemp","i","push","map","center","crs","CRS","EPSG3857","zoom","layers","tileLayer","attribution","forEach","item","marker","addTo","setTimeout","fitBounds","echarts","document","getElementById","markerPosition","className","size","onRow","onClick","event","setView","console","log","id","React","Component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a4a08aa2.chunk.js","sourcesContent":["import React from 'react';\nimport L from 'leaflet';\nimport icon from 'leaflet/dist/images/marker-icon.png';\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\nimport 'antd/dist/antd.css';\nimport { Table } from 'antd';\nimport './Map.less';\nimport 'leaflet/dist/leaflet.css';\nimport * as echarts from \"echarts\";\n\nlet DefaultIcon = L.icon({\n    iconUrl: icon,\n    shadowUrl: iconShadow\n});\nL.Marker.prototype.options.icon = DefaultIcon;\nclass Map extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            dataSource: [\n                {\n                    key: 'cd',\n                    name: '成都',\n                    lang: '104.071887',\n                    lat: '30.662205'\n                },\n                {\n                    key: 'bj',\n                    name: '北京',\n                    lang: '116.46',\n                    lat: '39.92'\n                },\n                {\n                    key: 'sh',\n                    name: '上海',\n                    lang: '121.4737021',\n                    lat: '31.2303904'\n                }\n            ],\n            columns: [\n                {\n                    title: '名称',\n                    dataIndex: 'name',\n                    key: 'name',\n                },\n                {\n                    title: '经度',\n                    dataIndex: 'lang',\n                    key: 'lang',\n                },\n                {\n                    title: '纬度',\n                    dataIndex: 'lat',\n                    key: 'lat',\n                }\n            ]\n        }\n        this.temperatureCharts = void 0;\n        this.refreshCharts = function (record) {\n            let base = 20;\n            if (record) {\n                switch (record.key) {\n                    case \"cd\":\n                        base = 10;\n                        break;\n                    case \"bj\":\n                        base = 0;\n                        break;\n                    case \"sh\":\n                        base = 20;\n                        break;\n                }\n            }\n            let data = this.generateData(base);\n\n            this.temperatureCharts.setOption({\n                grid: { top: 10, bottom: 20, right: 20 },\n                title: {\n                    text: '气温趋势图'\n                },\n                tooltip: {\n                    trigger: 'axis',\n                },\n                xAxis: {\n                    type: 'time',\n                    // data: ['衬衫', '羊毛衫', '雪纺衫', '裤子', '高跟鞋', '袜子']\n                },\n                yAxis: {\n                    type: 'value',\n                    boundaryGap: [0, '100%'],\n                    splitLine: {\n                        show: false\n                    }\n                },\n                series: [{\n                    name: '气温（℃）',\n                    type: 'line',\n                    data,\n                    smooth: true\n                }]\n            });\n        };\n        this.randomData = function (now, oneDay, oneHour, value) {\n            now = new Date(+now + oneHour);\n            value = value + Math.random() * 10;\n            return {\n                name: now.toString(),\n                value: [\n                    [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/') + ` ${now.getHours()}:00:00`,\n                    Math.round(value)\n                ]\n            };\n        }\n\n        this.generateData = function (baseTemp) {\n            var data = [];\n            var now = +new Date();\n            var oneDay = 24 * 3600 * 1000;\n            var oneHour = 3600 * 1000;\n            var value = Math.random() * 1000;\n            for (var i = 0; i < 30 * 24; i++) {\n                data.push(this.randomData(now, oneDay, oneHour * i, baseTemp));\n            }\n            return data;\n        }\n    }\n    componentDidMount() {\n        // create map\n        this.map = L.map('map', {\n            center: [30.662205, 104.071887],\n            crs: L.CRS.EPSG3857,\n            zoom: 14,\n            layers: [\n                L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n                    attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                }),\n            ]\n        });\n\n        // add marker\n        // this.marker = L.marker([30.662205, 104.071887], {\n\n        // }).addTo(this.map);\n        this.state.dataSource.forEach(item => {\n            L.marker([item.lat, item.lang]).addTo(this.map)\n        });\n        setTimeout(() => {\n            this.map.fitBounds(this.state.dataSource.map(item => [item.lat, item.lang]));\n        })\n        // // add layer\n        // this.layer = L.layerGroup().addTo(this.map);\n        // this.map.setView(\n        //     center, zoom\n        // )\n        this.temperatureCharts = echarts.init(document.getElementById('tempuratureCharts'));\n        this.refreshCharts();\n\n    }\n    componentDidUpdate({ markerPosition }) {\n        // check if position has changed \n        // if (this.props.markerPosition !== markerPosition) {\n        //     this.marker.setLatLng(this.props.markerPosition);\n        // }\n    }\n    render() {\n\n        return <div className=\"body\">\n            <div className=\"markes-table-area\">\n                <h4>位置列表</h4>\n                <Table dataSource={this.state.dataSource} columns={this.state.columns} size=\"small\"\n                    onRow={record => {\n                        return {\n                            onClick: event => {\n                                this.map.setView([record.lat, record.lang]);\n                                this.refreshCharts(record);\n                                console.log(record)\n                            }, // 点击行\n                        };\n                    }} />\n            </div>\n            <div className=\"statistics-area\">\n                {/* <h4>气温趋势图</h4> */}\n                <div id=\"tempuratureCharts\"></div>\n            </div>\n            <div id=\"map\"></div>\n        </div>\n    }\n}\n\nexport default Map;","import './App.less';\nimport Map from \"./views/map/Map\"\nconst App = () => (\n    <div className=\"App\">\n        <Map></Map>\n    </div>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}