(this["webpackJsonptemperature-map"]=this["webpackJsonptemperature-map"]||[]).push([[0],{229:function(t,e,a){},230:function(t,e,a){},232:function(t,e,a){},306:function(t,e,a){"use strict";a.r(e);var n=a(64),o=a(1),r=a.n(o),i=a(63),s=a.n(i),c=(a(229),a(230),a(196)),l=a(197),u=a(222),d=a(219),h=a(112),m=a.n(h),p=a(198),y=a(199),f=(a(231),a(310)),g=(a(232),a(233),a(172)),b=m.a.icon({iconUrl:p.a,shadowUrl:y.a});m.a.Marker.prototype.options.icon=b;var j=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state={dataSource:[{key:"cd",name:"\u6210\u90fd",lang:"104.071887",lat:"30.662205"},{key:"bj",name:"\u5317\u4eac",lang:"116.46",lat:"39.92"},{key:"sh",name:"\u4e0a\u6d77",lang:"121.4737021",lat:"31.2303904"}],linesDataSource:[{key:"1",name:"\u897f\u5b89-\u90d1\u5dde-\u6b66\u6c49",latLangs:[["34.345408","108.945194"],["34.753091","113.630756"],["30.59816","114.312606"]],color:"red"},{key:"2",name:"\u6210\u90fd-\u5317\u4eac-\u4e0a\u6d77",latLangs:[["30.662205","104.071887"],["39.92","116.46"],["31.2303904","121.4737021"]],color:"yellow"}],columns:[{title:"\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u7ecf\u5ea6",dataIndex:"lang",key:"lang"},{title:"\u7eac\u5ea6",dataIndex:"lat",key:"lat"}],linesColumns:[{title:"\u7ebf\u8def\u540d\u79f0",dataIndex:"name",key:"name"}]},n.temperatureCharts=void 0,n.refreshCharts=function(t){var e=20;if(t)switch(t.key){case"cd":e=10;break;case"bj":e=0;break;case"sh":e=20}var a=this.generateData(e);this.temperatureCharts.setOption({grid:{top:10,bottom:20,right:20},title:{text:"".concat(t.name,"\u6c14\u6e29\u8d8b\u52bf\u56fe"),textStyle:{color:"white"}},tooltip:{trigger:"axis"},xAxis:{type:"time",axisPointer:{value:"2021-10-7",snap:!0,lineStyle:{color:"#004E52",opacity:.5,width:2},label:{show:!0,formatter:function(t){return g.a.formatTime("yyyy-MM-dd",t.value)},backgroundColor:"#004E52"},handle:{show:!0,color:"#004E52"}}},dataZoom:[{type:"inside",throttle:50}],yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1}},series:[{name:"\u6c14\u6e29\uff08\u2103\uff09",type:"line",data:a,smooth:!0}]},!0)},n.refreshLineCharts=function(t){var e=200;if(t)switch(t.key){case"cd":e=10;break;case"bj":e=0;break;case"sh":e=20}var a=this.generateData(e,100);this.temperatureCharts.setOption({grid:{top:10,bottom:20,right:20},title:{text:"".concat(t.name,"\u6d41\u91cf\u8d8b\u52bf\u56fe"),textStyle:{color:"white"}},tooltip:{trigger:"axis"},xAxis:{type:"time",axisPointer:{value:"2021-01-28",snap:!0,lineStyle:{color:"#004E52",opacity:.5,width:2},label:{show:!0,formatter:function(t){return g.a.formatTime("yyyy-MM-dd",t.value)},backgroundColor:"#004E52"},handle:{show:!0,color:"#004E52"}}},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1}},dataZoom:[{type:"inside",throttle:50}],series:[{name:"\u6d41\u91cf",type:"line",data:a,smooth:!0}]},!0)},n.randomData=function(t,e,a,n,o){return t=new Date(+t+a),n+=Math.random()*(o||10),{name:t.toString(),value:[[t.getFullYear(),t.getMonth()+1,t.getDate()].join("/")+" ".concat(t.getHours(),":00:00"),Math.round(n)]}},n.generateData=function(t,e){for(var a=[],n=+new Date,o=(Math.random(),0);o<720;o++)a.push(this.randomData(n,864e5,36e5*o,t,e));return a},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.map=m.a.map("map",{center:[30.662205,104.071887],crs:m.a.CRS.EPSG3857,zoom:14,layers:[m.a.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'})]}),this.state.dataSource.forEach((function(e){var a=m.a.marker([e.lat,e.lang],{color:"red",data:e});a.bindTooltip(e.name).openTooltip(),a.addTo(t.map),a.on("click",(function(e){t.refreshCharts(e.target.options.data)}))})),this.state.linesDataSource.forEach((function(e){var a=m.a.polyline(e.latLangs,{color:e.color,data:e});a.bindTooltip(e.name).openTooltip(),a.addTo(t.map),a.on("click",(function(e){t.refreshLineCharts(e.target.options.data)}))})),setTimeout((function(){t.map.fitBounds(t.state.dataSource.map((function(t){return[t.lat,t.lang]})).concat(t.state.linesDataSource.map((function(t){return t.latLangs}))))})),this.temperatureCharts=g.b(document.getElementById("tempuratureCharts"))}},{key:"componentDidUpdate",value:function(t){t.markerPosition}},{key:"render",value:function(){var t=this;return Object(n.jsxs)("div",{className:"body",children:[Object(n.jsxs)("div",{className:"markes-table-area",children:[Object(n.jsx)("h4",{children:"\u4f4d\u7f6e\u5217\u8868"}),Object(n.jsx)(f.a,{dataSource:this.state.dataSource,columns:this.state.columns,size:"small",onRow:function(e){return{onClick:function(a){t.map.setView([e.lat,e.lang]),t.refreshCharts(e),console.log(e)}}}})]}),Object(n.jsxs)("div",{className:"lines-table-area",children:[Object(n.jsx)("h4",{children:"\u7ebf\u8def\u5217\u8868"}),Object(n.jsx)(f.a,{dataSource:this.state.linesDataSource,columns:this.state.linesColumns,size:"small",onRow:function(e){return{onClick:function(a){t.map.fitBounds(e.latLangs),t.refreshLineCharts(e),console.log(e)}}}})]}),Object(n.jsx)("div",{className:"statistics-area",children:Object(n.jsx)("div",{id:"tempuratureCharts"})}),Object(n.jsx)("div",{id:"map"})]})}}]),a}(r.a.Component),x=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(j,{})})},v=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,311)).then((function(e){var a=e.getCLS,n=e.getFID,o=e.getFCP,r=e.getLCP,i=e.getTTFB;a(t),n(t),o(t),r(t),i(t)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),v()}},[[306,1,2]]]);
//# sourceMappingURL=main.f2cd8060.chunk.js.map